<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TokenDock | Dock</title>

  <!-- Resource hints -->
  <link rel="preconnect" href="https://public-api.birdeye.so">
  <link rel="dns-prefetch" href="https://public-api.birdeye.so">
  <link rel="preconnect" href="https://unpkg.com">
  <link rel="dns-prefetch" href="https://unpkg.com">
  <!-- Common explorers and tools preconnects -->
  <link rel="preconnect" href="https://solscan.io">
  <link rel="preconnect" href="https://etherscan.io">
  <link rel="preconnect" href="https://bscscan.com">
  <link rel="preconnect" href="https://basescan.org">
  <link rel="preconnect" href="https://polygonscan.com">
  <link rel="preconnect" href="https://arbiscan.io">
  <link rel="preconnect" href="https://optimistic.etherscan.io">
  <link rel="preconnect" href="https://snowtrace.io">
  <link rel="preconnect" href="https://dexscreener.com">
  <link rel="dns-prefetch" href="https://dexscreener.com">
  <!-- Preload logo to reduce LCP -->
  <link rel="preload" as="image" href="./images/tokendock-anchor-1024.png" imagesizes="70px" />
  <!-- Google Fonts: DM Serif Text for project name -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
<link rel="preconnect" href="https://cdn.jsdelivr.net">
<script src="https://cdn.jsdelivr.net/npm/lightweight-charts@4.2.1/dist/lightweight-charts.standalone.production.js"></script>
  <link rel="stylesheet" href="./css/dock-address.css" />
</head>
<body>
<div class="solid-background"></div>
<canvas id="dock-bg-ascii" style="position:fixed;inset:0;width:100%;height:100%;display:block;z-index:-1;background:transparent;pointer-events:none;"></canvas>
<div class="overlay"></div>
<div id="dock-ascii-mask" style="position:fixed;inset:auto;z-index:0;background:var(--bg-solid);pointer-events:none;"></div>

<div class="container">
  <header>
    <div class="logo-container">
      <img src="./images/tokendock-anchor-1024.png" alt="Project Logo" class="logo" id="projectLogo" width="70" height="70" decoding="async" fetchpriority="high">
    </div>
    <h1><span class="project-name" id="projectName"></span> Dock</h1>
    <p class="subtitle" id="projectTagline"></p>
    <p class="mission-text" id="projectMission"></p>
  </header>

  <div id="statsContainer" role="region" aria-live="polite">
  </div>

  <div class="social-links" id="socialLinks"></div>

  <div class="footer">
    <p style="color: var(--text-muted); font-size: 0.9rem;">
      Powered by 
      <a href="https://www.tokendock.io/" target="_blank" rel="noopener noreferrer" class="telegram-highlight">
        Token Dock <i class="fa-solid fa-arrow-up-right-from-square" style="font-size:0.7rem;opacity:0.8;"></i>
      </a>
    </p>
  </div>
</div>
<script>
  window.TOKEN_DOCK_CONFIG = window.TOKEN_DOCK_CONFIG || {};
  window.TOKEN_DOCK_CONFIG.token = window.TOKEN_DOCK_CONFIG.token || {};
  window.TOKEN_DOCK_CONFIG.token.chain = 'solana';
  window.TOKEN_DOCK_CONFIG.token.pairAddress = '8s8KXtEVV1SgjxjgtNkLWkcwg1i3QrCbe3w3XLkrawo7';
</script>
<script type="module" src="./js/boot.js"></script>
<script defer src="./js/dock-address.js"></script>
<script type="module">
  import { R as Renderer, C as Camera, g as Plane, M as Mesh, P as Program, V as Vec3, e as Node, A as AsciiPass, i as EffectStack } from "./images/advanced.js";
  const canvas = document.getElementById('dock-bg-ascii');
  if (canvas) {
    const renderer = new Renderer({ canvas, dpr: Math.min(window.devicePixelRatio, 2), alpha: false, depth: true, antialias: true });
    const gl = renderer.gl;
    const scene = new Node();
    const camera = new Camera(gl, { fov: 45, aspect: window.innerWidth / window.innerHeight, near: 0.1, far: 100 });
    camera.position.set(0,0,2);
    camera.lookAt(new Vec3(0,0,0));
    const geometry = new Plane(gl, { width: 2, height: 2, widthSegments: 1, heightSegments: 1 });
    const vertexShader = "attribute vec3 position;attribute vec2 uv;uniform mat4 modelMatrix;uniform mat4 viewMatrix;uniform mat4 projectionMatrix;varying vec2 vUv;void main(){vUv=uv;gl_Position=projectionMatrix*viewMatrix*modelMatrix*vec4(position,1.0);}";
    const fragmentShader = "precision highp float;varying vec2 vUv;uniform float uTime;float hash(vec2 p){p=fract(p*vec2(123.34,456.21));p+=dot(p,p+45.32);return fract(p.x*p.y);}void main(){vec2 uv=vUv-0.5;uv.x*=1.6;float r=length(uv);float radial=0.5+0.5*sin(r*18.0-uTime*0.8);float scan=0.5+0.5*sin((uv.y*140.0)-uTime*1.0);float base=radial*scan;float grain=(hash(uv*800.0+uTime*0.1)-0.5)*0.15;float shade=clamp(base+grain,0.0,1.0);shade=pow(shade,1.4);gl_FragColor=vec4(vec3(shade),1.0);}";
    const program = new Program(gl, { vertex: vertexShader, fragment: fragmentShader, uniforms: { uTime: { value: 0 } }, transparent: false, depthTest: false, depthWrite: false });
    const mesh = new Mesh(gl, { geometry, program });
    scene.addChild(mesh);
    const codeChars = "123456789 qwertyuiop[]asdfghjkl;' zxcvb nm,./<>?:zxcvbnm,. /<>?:zxcvbn m,./<>?:zxcvbn m,./<>?:";
    const ascii = new AsciiPass(gl, { charSize: 16, charLength: codeChars.length, pixels: false, greyscale: false, overwriteColor: true, color: '#333333', characters: codeChars });
    const effects = new EffectStack(gl);
    effects.add('ascii', ascii);
    const maskEl = document.getElementById('dock-ascii-mask');
    function positionMask(){
      if(!maskEl) return;
      const container = document.querySelector('.container');
      if(!container) return;
      const r = container.getBoundingClientRect();
      maskEl.style.left = r.left + 'px';
      maskEl.style.top = r.top + 'px';
      maskEl.style.width = r.width + 'px';
      maskEl.style.height = r.height + 'px';
    }
    function onResize(){
      const vv = window.visualViewport;
      const w = vv ? Math.ceil(vv.width) : window.innerWidth;
      const h = vv ? Math.ceil(vv.height) : window.innerHeight;
      renderer.setSize(w, h);
      camera.aspect = w/h; camera.updateProjectionMatrix();
      ascii.resize();
      positionMask();
    }
    window.addEventListener('resize', onResize);
    window.addEventListener('scroll', positionMask, { passive: true });
    window.addEventListener('orientationchange', onResize);
    if (window.visualViewport) {
      window.visualViewport.addEventListener('resize', onResize);
      window.visualViewport.addEventListener('scroll', onResize, { passive: true });
    }
    onResize();
    function loop(now){
      const t = now * 0.0001;
      program.uniforms.uTime.value = t * 0.0005;
      ascii.update(now/1000);
      effects.render({ scene, camera });
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);
  }
</script>

</body>
</html>